# -STM32-FreeRTOS-
项目简介：设计基于STM32与FreeRTOS的四轴飞行器，遥控通过2.4G发送摇杆、按键数据控制飞行器自主飞行，通过姿态解算和串级PID控制实现飞行器自动平衡姿态、定高悬停功能。

功能与职责：
  飞控核心功能实现：姿态解算（角速度用低通滤波、加速度用卡尔曼滤波、四元数解算出角度），串级PID控制（内环：角速度环、Z轴速度环，外环：角度环、高度），运动控制（自主飞行、定高悬停）。
  FreeRTOS应用：任务划分（飞行控制、姿态解算与PID控制、LED状态提示、2.4G通信、摇杆按键数据处理、OLED显示），优先级调度与任务循环周期设置，任务间通信（队列、互斥量）。
  外设驱动开发与调试：PWM输出控制电机和LED、陀螺仪驱动与校准、激光测距驱动与障碍物检测、2.4G通信与定义数据帧、OLED显示与取字模、ADC读取DMA搬运摇杆值和电池电压。
  硬件调试与问题排查：解决电机鸣叫、传感器噪声、通信丢包、遇到障碍物突升、飞行器严重抖动等问题。
实现成果：
  实现稳定的姿态控制和定高悬停，姿态平衡精度达到±1度，定高悬停精度达到±3厘米。
  设计并调优串级PID参数，将姿态平衡响应时间缩短50%，姿态抖动幅度降低到±1度。
